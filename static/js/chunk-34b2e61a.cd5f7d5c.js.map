{"version":3,"sources":["webpack:///./src/views/reward/index.vue","webpack:///./src/views/reward/index.vue?0a65","webpack:///./src/views/reward/index.vue?1e71"],"names":["class","_createElementVNode","_createElementBlock","_createVNode","_component_Header","leftTitle","_ctx","_Fragment","_renderList","item","index","key","cid","onClick","text","_hoisted_4","subcid","_hoisted_6","_toDisplayString","_hoisted_12","_component_van_list","loading","$event","finished","immediate-check","finished-text","onLoad","green","val","indexOf","type","time","_component_Footer","components","Header","Footer","setup","router","useRouter","store","useStore","t","useI18n","data","reactive","address","computed","state","accounts","web3","provider","balance","dataTab","dataSubTab","page","limit","lists","initContract","initData","currentRoute","value","query","getList","tabHandle","replace","name","async","Toast","duration","bankRecords","banktype","then","res","list","netnum","buynum","staticNum","thispage","datas","push","Number","length","perpage","clear","catch","onBeforeRouteUpdate","to","Object","prototype","hasOwnProperty","call","watch","refData","toRefs","__exports__","render"],"mappings":"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","file":"static/js/chunk-34b2e61a.cd5f7d5c.js","sourcesContent":["<template>\r\n  <div class=\"footer-container\">\r\n    <Header>\r\n      <template #leftTitle>\r\n        {{t('index.獎勵明細')}}\r\n      </template>\r\n    </Header>\r\n    <div class=\"reward\">\r\n      <div class=\"tab\">\r\n        <div v-for=\"(item,index) in dataTab\" :key=\"index\" class=\"tab-item\" :class=\"{'active':cid === item.cid}\" @click=\"tabHandle(item.cid,subcid)\">\r\n          {{item.text}}\r\n        </div>\r\n      </div>\r\n      <div class=\"tab2\">\r\n        <div v-for=\"(item,index) in dataSubTab\" :key=\"index\" class=\"tab-item\" :class=\"{'active':subcid === item.subcid}\" @click=\"tabHandle(cid,item.subcid)\">\r\n          {{item.text}}\r\n        </div>\r\n      </div>\r\n      <div class=\"record\">\r\n        <div class=\"table-title\">{{t('index.獎勵明細')}}</div>\r\n        <div class=\"table region-bg\">\r\n          <div class=\"thead\">\r\n            <div class=\"td\">{{t('index.金額')}}<span>(TOP)</span></div>\r\n            <div class=\"td\">{{t('index.方式')}}</div>\r\n            <div class=\"td\">{{t('index.時間')}}</div>\r\n          </div>\r\n          <van-list class=\"tbody\" v-model:loading=\"loading\" :finished=\"finished\" :immediate-check=\"false\" :finished-text=\"t('index.暫無更多數據')\" @load=\"onLoad\">\r\n            <div class=\"tr\" v-for=\"(item,index) in lists\" :key=\"index\">\r\n              <div class=\"td\" :class=\"{green:item.val.indexOf('+') !== -1}\">{{item.val}}</div>\r\n              <div class=\"td\">{{item.type }}</div>\r\n              <div class=\"td\">{{item.time}}</div>\r\n            </div>\r\n          </van-list>\r\n        </div>\r\n      </div>\r\n      <Footer></Footer>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { bankRecords } from '@/api'\r\nimport Header from '@/components/Header'\r\nimport Footer from '@/components/Footer'\r\nimport { reactive, toRefs, computed, watch } from \"vue\";\r\nimport { useRouter, onBeforeRouteUpdate } from 'vue-router'\r\nimport { useI18n } from \"vue-i18n\";\r\nimport { useStore } from \"vuex\";\r\nimport { Toast } from 'vant'\r\nexport default {\r\n  components: {\r\n    Header,\r\n    Footer\r\n  },\r\n  setup () {\r\n    const router = useRouter()\r\n    const store = useStore()\r\n    const { t } = useI18n()\r\n    const data = reactive({\r\n      t: t,\r\n      address: computed(() => store.state.accounts[0]),\r\n      web3: computed(() => store.state.provider),\r\n      balance: 0,\r\n      cid: 'top',\r\n      subcid: 'all',\r\n      dataTab: [{\r\n        cid: 'top',\r\n        text: 'TOP'\r\n      },\r\n      {\r\n        cid: 'usdt',\r\n        text: 'USDT'\r\n      },\r\n      {\r\n        cid: 'sharetop',\r\n        text: t('index.NFT分紅')\r\n      }],\r\n      dataSubTab: [{\r\n        subcid: 'all',\r\n        text: t('index.全部')\r\n      },\r\n      {\r\n        subcid: 'add',\r\n        text: t('index.收入')\r\n      },\r\n      {\r\n        subcid: 'out',\r\n        text: t('index.支出')\r\n      }],\r\n      loading: false,\r\n      finished: true,\r\n      page: 1,\r\n      limit: 10,\r\n      lists: [],\r\n      initContract: () => {\r\n        data.initData()\r\n      },\r\n      initData: () => {\r\n        if (router.currentRoute.value.query.cid) {\r\n          data.cid = router.currentRoute.value.query.cid || 'top'\r\n        }\r\n        if (router.currentRoute.value.query.subcid) {\r\n          data.subcid = router.currentRoute.value.query.subcid || 'all'\r\n        }\r\n        data.getList()\r\n      },\r\n      tabHandle: (cid, subcid) => {\r\n        router.replace({ name: 'Reward', query: { cid: cid, subcid: subcid } })\r\n      },\r\n      onLoad: async () => {\r\n        data.page = data.page + 1;\r\n        await data.getList();\r\n      },\r\n      getList: () => {\r\n        Toast.loading({\r\n          duration: 0,\r\n        });\r\n        data.loading = true;\r\n        bankRecords({\r\n          banktype: data.cid,\r\n          type: data.subcid,\r\n          address: data.address,\r\n          page: data.page + ''\r\n        })\r\n          .then(res => {\r\n            data.loading = false;\r\n            let list = res.data;\r\n            let { netnum, buynum } = list\r\n            data.staticNum = { netnum, buynum }\r\n            if (list.thispage <= 1) {\r\n              data.lists = list.datas;\r\n            } else {\r\n              data.lists.push(...list.datas);\r\n            }\r\n            data.page = Number(list.thispage);\r\n            data.finished = Number(list.datas.length) < Number(list.perpage);\r\n            Toast.clear()\r\n          })\r\n          .catch(() => {\r\n            data.finished = true;\r\n            data.loading = false;\r\n          });\r\n      },\r\n    })\r\n    onBeforeRouteUpdate((to) => {\r\n      if (Object.prototype.hasOwnProperty.call(to.query, 'cid')) {\r\n        data.cid = to.query.cid\r\n      } else {\r\n        data.cid = 'top'\r\n      }\r\n      if (Object.prototype.hasOwnProperty.call(to.query, 'subcid')) {\r\n        data.subcid = to.query.subcid\r\n      } else {\r\n        data.subcid = 'all'\r\n      }\r\n      data.getList();\r\n    })\r\n    if (data.address) {\r\n      data.initContract()\r\n    }\r\n    watch(() => data.address, (val) => {\r\n      if (val) {\r\n        data.initContract()\r\n      }\r\n    })\r\n    const refData = toRefs(data);\r\n    return {\r\n      ...refData\r\n    };\r\n  }\r\n}\r\n</script>\r\n<style lang=\"less\">\r\n</style>\r\n<style lang=\"less\" scoped>\r\n.reward {\r\n  padding-bottom: 16px;\r\n  .tab {\r\n    display: flex;\r\n    align-items: center;\r\n    margin-bottom: 12px;\r\n    .tab-item {\r\n      width: 33.33%;\r\n      text-align: center;\r\n      font-size: 15px;\r\n      font-weight: 600;\r\n      color: #a188ff;\r\n      background: url(~@/assets/images/tab-d.webp) no-repeat;\r\n      background-size: 100% 100%;\r\n      height: 36px;\r\n      line-height: 36px;\r\n      &:not(:last-child) {\r\n        margin-right: 6px;\r\n      }\r\n      &.active {\r\n        color: #fff;\r\n        background: url(~@/assets/images/tab-d.webp) no-repeat;\r\n        background-size: 100% 100%;\r\n      }\r\n    }\r\n  }\r\n  .tab2 {\r\n    display: flex;\r\n    align-items: center;\r\n    background: url(~@/assets/images/button5.webp) no-repeat;\r\n    background-size: 100% 100%;\r\n    margin-bottom: 24px;\r\n    .tab-item {\r\n      width: 33.33%;\r\n      text-align: center;\r\n      font-size: 15px;\r\n      font-weight: 600;\r\n      color: #a188ff;\r\n      height: 42px;\r\n      line-height: 42px;\r\n      &.active {\r\n        color: #fff;\r\n        font-size: 14px;\r\n        font-weight: 600;\r\n      }\r\n    }\r\n  }\r\n  .record {\r\n    .table-title {\r\n      width: 220px;\r\n      height: 31px;\r\n      background: url(~@/assets/images/table-title.webp) no-repeat;\r\n      background-size: 100% 100%;\r\n      text-align: center;\r\n      margin: 0 auto 17px;\r\n      position: relative;\r\n      line-height: 31px;\r\n      font-size: 16px;\r\n      font-weight: 600;\r\n      color: #00edf8;\r\n      text-shadow: 0px 1px 0px rgba(73, 0, 146, 0.35);\r\n    }\r\n    .table {\r\n      padding: 19px 23px 19px;\r\n      .thead {\r\n        display: flex;\r\n        align-items: center;\r\n        padding: 10px 0;\r\n        .td {\r\n          font-size: 14px;\r\n          font-weight: 500;\r\n          color: #5bffff;\r\n          text-align: left;\r\n          span {\r\n            font-size: 12px;\r\n          }\r\n          &:nth-child(1) {\r\n            width: 30%;\r\n            padding-left: 6px;\r\n          }\r\n          &:nth-child(2) {\r\n            width: 30%;\r\n            text-align: center;\r\n          }\r\n          &:nth-child(3) {\r\n            text-align: center;\r\n            width: 40%;\r\n          }\r\n        }\r\n      }\r\n      .tbody {\r\n        .tr {\r\n          display: flex;\r\n          align-items: center;\r\n          &:not(:last-child) {\r\n            margin-bottom: 10px;\r\n          }\r\n          .td {\r\n            text-align: left;\r\n            font-size: 12px;\r\n            color: #fff;\r\n            &:nth-child(1) {\r\n              width: 30%;\r\n              color: #f30e0e;\r\n              &.green {\r\n                color: #00edf8;\r\n              }\r\n            }\r\n            &:nth-child(2) {\r\n              width: 30%;\r\n              text-align: center;\r\n            }\r\n            &:nth-child(3) {\r\n              width: 40%;\r\n              text-align: right;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./index.vue?vue&type=template&id=1f7927ce&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=1f7927ce&lang=less&scoped=true\"\n\nimport exportComponent from \"D:\\\\contract\\\\frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1f7927ce\"]])\n\nexport default __exports__","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./index.vue?vue&type=style&index=0&id=1f7927ce&lang=less&scoped=true\""],"sourceRoot":""}