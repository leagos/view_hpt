{"version":3,"sources":["webpack:///./src/views/account/index.vue","webpack:///./src/views/account/index.vue?6b5a","webpack:///./src/views/account/index.vue?7192"],"names":["class","_createElementVNode","_createElementBlock","_createVNode","_component_Header","leftTitle","_Fragment","_renderList","_ctx","item","index","key","cid","onClick","text","_hoisted_4","_toDisplayString","balance","_hoisted_9","$setup","MI15","_component_van_button","type","push","name","_hoisted_16","_component_van_count_down","time","format","auto-start","default","timeData","hours","_hoisted_23","minutes","_hoisted_27","seconds","price","rewardAmount","_hoisted_39","rewardU","_hoisted_50","_component_Footer","components","Header","Footer","setup","proxy","getCurrentInstance","router","useRouter","ref","topMI365","oasisMI365","store","useStore","t","useI18n","data","reactive","address","computed","state","accounts","web3","provider","top","BigNumber","config","topMI15","multipliedBy","toFixed","oasis","oasisMI15","dataTab","isStart","topContract","oasisContract","SWAPTOPContract","initContract","eth","Contract","topAbi","topAddress","oasisAbi","oasisAddress","swaptopAbi","SWAPTOP","initData","async","currentRoute","value","query","Number","getRewardTime","getPriceHandle","balanceOfHandle","balanceTop","methods","balanceOf","call","decimalsTop","decimals","from","div","balanceOasis","decimalsOasis","getReward","getRewardU","error","$errorformat","topPrice","getTopPrice","getRewardDay","x","decimal","RewardDay","plus","exponentiatedBy","minus","contract","lastTime","_lastRebasedTime","curTime","Date","parse","toString","substr","nextTime","filterTimeData","tabHandle","replace","onBeforeRouteUpdate","to","Object","prototype","hasOwnProperty","onMounted","watch","val","refData","toRefs","__exports__","render"],"mappings":"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","file":"static/js/chunk-3df55bd6.3a795d94.js","sourcesContent":["<template>\r\n  <div class=\"footer-container\">\r\n    <Header>\r\n      <template #leftTitle>\r\n        TOP\r\n      </template>\r\n    </Header>\r\n    <div class=\"tab\">\r\n      <div v-for=\"(item,index) in dataTab\" :key=\"index\" class=\"tab-item\" :class=\"{'active':cid === item.cid}\" @click=\"tabHandle(item)\">\r\n        {{item.text}}\r\n      </div>\r\n    </div>\r\n    <template v-if=\"cid === 0\">\r\n      <div class=\"region-bg region1\">\r\n        <div class=\"key\">{{t('index.TOP餘額')}}</div>\r\n        <div class=\"value\">{{top.balance}}</div>\r\n      </div>\r\n      <div class=\"price-wrap button1\">\r\n        <span class=\"theme-color\">APY</span><span>{{topMI365}}%</span><span>{{t('index.日複利')}}{{getRewardDay(top.MI15,1)}}%</span>\r\n      </div>\r\n    </template>\r\n    <template v-if=\"cid === 1\">\r\n      <div class=\"region-bg region11\">\r\n        <div class=\"left\">\r\n          <div class=\"key\">{{t('index.Oasis餘額')}}</div>\r\n          <div class=\"value\">{{oasis.balance}}</div>\r\n        </div>\r\n        <div class=\"btn-wrap\">\r\n          <van-button class=\"btn\" type=\"primary\" @click=\"$router.push({name:'Swap'})\">{{t('index.兌換')}}</van-button>\r\n        </div>\r\n      </div>\r\n      <div class=\"price-wrap button1\">\r\n        <span class=\"theme-color\">APY</span><span>{{oasisMI365}}%</span><span>{{t('index.日複利')}}{{getRewardDay(oasis.MI15,1)}}%</span>\r\n      </div>\r\n    </template>\r\n    <div class=\"region-bg region2\">\r\n      <div class=\"count-down-wrap\">\r\n        <div class=\"title\">{{t('index.下一次獎勵')}}</div>\r\n        <van-count-down :time=\"time\" format=\"HH 时 mm 分 ss 秒\" :auto-start=\"isStart\">\r\n          <template #default=\"timeData\">\r\n            <div class=\"block\"><span class=\"text\">{{ filterTimeData(timeData.hours) }}</span><span class=\"name\">{{t('index.時')}}</span></div>\r\n            <div class=\"colon\">:</div>\r\n            <div class=\"block\"><span class=\"text\">{{ filterTimeData(timeData.minutes) }}</span><span class=\"name\">{{t('index.分')}}</span></div>\r\n            <div class=\"colon\">:</div>\r\n            <div class=\"block\"><span class=\"text\">{{filterTimeData(timeData.seconds)}}</span><span class=\"name\">{{t('index.秒')}}</span></div>\r\n          </template>\r\n        </van-count-down>\r\n        <div class=\"des\">{{t('index.獎勵馬上到賬')}}</div>\r\n      </div>\r\n    </div>\r\n    <div class=\"cell-bg-wrap\" v-if=\"cid === 0\">\r\n      <div class=\"cell-bg\">\r\n        <div class=\"key\">{{t('index.當前$TOP價格')}}</div>\r\n        <div class=\"value\">${{top.price}}</div>\r\n      </div>\r\n      <div class=\"cell-bg\">\r\n        <div class=\"key\">{{t('index.下一次獎勵金額')}}</div>\r\n        <div class=\"value\">{{top.rewardAmount}} <span>TOP</span></div>\r\n      </div>\r\n      <div class=\"cell-bg\">\r\n        <div class=\"key\">{{t('index.下一次獎勵金額')}}</div>\r\n        <div class=\"value\">${{top.rewardU}}</div>\r\n      </div>\r\n      <div class=\"cell-bg\">\r\n        <div class=\"key\">{{t('index.下一次獎勵收益')}}</div>\r\n        <div class=\"value\">{{top.MI15}}%</div>\r\n      </div>\r\n    </div>\r\n    <div class=\"cell-bg-wrap\" v-if=\"cid === 1\">\r\n      <div class=\"cell-bg\">\r\n        <div class=\"key\">{{t('index.下一次獎勵金額')}}</div>\r\n        <div class=\"value\">{{oasis.rewardAmount}} <span>Oasis</span></div>\r\n      </div>\r\n      <div class=\"cell-bg\">\r\n        <div class=\"key\">{{t('index.下一次獎勵收益')}}</div>\r\n        <div class=\"value\">{{oasis.MI15}}%</div>\r\n      </div>\r\n      <div class=\"cell-bg\">\r\n        <div class=\"key\">{{t('index.投資回報率(5天費率)')}}</div>\r\n        <div class=\"value\">{{getRewardDay(oasis.MI15,5,6)}}%</div>\r\n      </div>\r\n    </div>\r\n    <Footer></Footer>\r\n  </div>\r\n</template>\r\n<script>\r\nimport Header from '@/components/Header'\r\nimport { reactive, toRefs, computed, watch, ref, getCurrentInstance, onMounted } from \"vue\";\r\nimport { useI18n } from \"vue-i18n\";\r\nimport { useStore } from \"vuex\";\r\nimport Footer from '@/components/Footer'\r\nimport { useRouter, onBeforeRouteUpdate } from 'vue-router'\r\nimport { config } from \"@/utils/config\";\r\nimport topAbi from \"@/utils/topAbi\";\r\nimport oasisAbi from \"@/utils/oasisAbi\";\r\nimport swaptopAbi from \"@/utils/swaptopAbi\";\r\nimport BigNumber from \"bignumber.js\";\r\nexport default {\r\n  components: {\r\n    Header,\r\n    Footer\r\n  },\r\n  setup () {\r\n    const { proxy } = getCurrentInstance();\r\n    const router = useRouter()\r\n    const time = ref(0);\r\n    const topMI365 = ref('-')\r\n    const oasisMI365 = ref('-')\r\n    const store = useStore()\r\n    const { t } = useI18n()\r\n    const data = reactive({\r\n      t: t,\r\n      address: computed(() => store.state.accounts[0]),\r\n      web3: computed(() => store.state.provider),\r\n      top: {\r\n        balance: '0.0000',\r\n        price: '0.0000',\r\n        rewardAmount: '0.0000',\r\n        rewardU: '0.0000',\r\n        MI15: new BigNumber(config.topMI15).multipliedBy(100)\r\n          .toFixed(6)\r\n      },\r\n      oasis: {\r\n        balance: '0.0000',\r\n        price: '0.0000',\r\n        rewardAmount: '0.0000',\r\n        MI15: new BigNumber(config.oasisMI15).multipliedBy(100)\r\n          .toFixed(6)\r\n      },\r\n      cid: 0,\r\n      dataTab: [{\r\n        cid: 0,\r\n        text: 'TOP'\r\n      },\r\n      {\r\n        cid: 1,\r\n        text: 'Oasis'\r\n      }],\r\n      isStart: false,\r\n      topContract: null,\r\n      oasisContract: null,\r\n      SWAPTOPContract: null,\r\n      initContract: () => {\r\n        data.topContract = new data.web3.eth.Contract(\r\n          topAbi,\r\n          config.topAddress\r\n        );\r\n        data.oasisContract = new data.web3.eth.Contract(\r\n          oasisAbi,\r\n          config.oasisAddress\r\n        );\r\n        data.SWAPTOPContract = new data.web3.eth.Contract(\r\n          swaptopAbi,\r\n          config.SWAPTOP\r\n        );\r\n        data.initData()\r\n      },\r\n      initData: async () => {\r\n        if (router.currentRoute.value.query.cid) {\r\n          data.cid = Number(router.currentRoute.value.query.cid) || 0\r\n        }\r\n        data.getRewardTime()\r\n        await data.getPriceHandle()\r\n        await data.balanceOfHandle()\r\n      },\r\n      balanceOfHandle: async () => {\r\n        try {\r\n          let balanceTop = await data.topContract.methods.balanceOf(data.address).call({\r\n            address: data.address\r\n          })\r\n          let decimalsTop = await data.topContract.methods\r\n            .decimals()\r\n            .call({ from: data.address })\r\n          data.top.balance = new BigNumber(balanceTop)\r\n            .div(10 ** decimalsTop)\r\n            .toFixed(4);\r\n          let balanceOasis = await data.oasisContract.methods.balanceOf(data.address).call({\r\n            address: data.address\r\n          })\r\n          let decimalsOasis = await data.oasisContract.methods\r\n            .decimals()\r\n            .call({ from: data.address })\r\n          data.oasis.balance = new BigNumber(balanceOasis)\r\n            .div(10 ** decimalsOasis)\r\n            .toFixed(4);\r\n          console.log('balanceOasis:', balanceOasis, decimalsTop, 'balanceTop:', balanceTop, decimalsOasis)\r\n          data.getReward()\r\n          data.getRewardU()\r\n        } catch (error) {\r\n          proxy.$errorformat(error)\r\n        }\r\n      },\r\n      getPriceHandle: async () => {\r\n        try {\r\n          let topPrice = await data.SWAPTOPContract.methods.getTopPrice().call({\r\n            address: data.address\r\n          })\r\n          // 除usdt的 18位\r\n          data.top.price = new BigNumber(topPrice)\r\n            .div(10 ** 18)\r\n            .toFixed(4);\r\n          // console.log(topPrice, 'topPrice')\r\n        } catch (error) {\r\n          proxy.$errorformat(error)\r\n        }\r\n      },\r\n      getReward: () => {\r\n        // 奖励币数量 本x息）\r\n        data.top.rewardAmount = new BigNumber(data.top.balance)\r\n          .multipliedBy(config.topMI15)\r\n          .toFixed(4);\r\n        data.oasis.rewardAmount = new BigNumber(data.oasis.balance)\r\n          .multipliedBy(config.oasisMI15)\r\n          .toFixed(4);\r\n        // console.log('top.rewardAmount:', data.top.rewardAmount, 'oasis.rewardAmount:', data.oasis.rewardAmount)\r\n      },\r\n      getRewardU: () => {\r\n        // 奖励币金额\r\n        data.top.rewardU = new BigNumber(data.top.balance)\r\n          .multipliedBy(config.topMI15).multipliedBy(data.top.price)\r\n          .toFixed(5);\r\n        console.log('top.rewardU:', data.top.rewardU)\r\n      },\r\n      getRewardDay: (MI15, x, decimal = 1) => {\r\n        // x天日复利 (1+息)^天数 - 1\r\n        console.time(x)\r\n        let RewardDay = new BigNumber(MI15).div(100).plus(1).exponentiatedBy(96 * x).minus(1).multipliedBy(100)\r\n          .toFixed(decimal);\r\n        console.timeEnd(x)\r\n        return RewardDay\r\n      },\r\n      getRewardTime: async () => {\r\n        try {\r\n          let contract = null\r\n          if (data.cid === 0) {\r\n            contract = data.topContract\r\n          } else if (data.cid === 1) {\r\n            contract = data.oasisContract\r\n          }\r\n          let lastTime = await contract.methods._lastRebasedTime().call({\r\n            address: data.address\r\n          })\r\n          console.log('lastTime:', lastTime)\r\n          let curTime = Date.parse(new Date()).toString();\r\n          curTime = curTime.substr(0, 10);\r\n          let nextTime = Number(lastTime) + (15 * 60)\r\n          if (curTime > nextTime) {\r\n            time.value = (60 * 15) * 1000\r\n            data.isStart = false\r\n            console.log('已結束')\r\n          } else {\r\n            data.isStart = true\r\n            time.value = (nextTime - Number(curTime)) * 1000\r\n            console.log('獎勵馬上到賬')\r\n          }\r\n        } catch (error) {\r\n          proxy.$errorformat(error)\r\n        }\r\n      },\r\n      filterTimeData: (timeData) => {\r\n        return timeData < 10 ? '0' + timeData : timeData\r\n      },\r\n      tabHandle: (item) => {\r\n        router.replace({ name: 'Account', query: { cid: item.cid } })\r\n      },\r\n    })\r\n    onBeforeRouteUpdate((to) => {\r\n      if (Object.prototype.hasOwnProperty.call(to.query, 'cid')) {\r\n        data.cid = Number(to.query.cid)\r\n      } else {\r\n        data.cid = 0\r\n      }\r\n      data.getRewardTime()\r\n    })\r\n    onMounted(() => {\r\n      topMI365.value = new BigNumber(config.topMI15).plus(1).exponentiatedBy(96 * 365).minus(1).multipliedBy(100)\r\n        .toFixed(1)\r\n      oasisMI365.value = new BigNumber(config.oasisMI15).plus(1).exponentiatedBy(96 * 365).minus(1).multipliedBy(100)\r\n        .toFixed(1)\r\n    })\r\n    if (data.address) {\r\n      data.initContract()\r\n    }\r\n    watch(() => data.address, (val) => {\r\n      if (val) {\r\n        data.initContract()\r\n      }\r\n    })\r\n    const refData = toRefs(data);\r\n    return {\r\n      ...refData,\r\n      time,\r\n      topMI365,\r\n      oasisMI365\r\n    };\r\n  }\r\n}\r\n</script>\r\n<style lang=\"less\">\r\n</style>\r\n<style lang=\"less\" scoped>\r\n.footer-container {\r\n  .tab {\r\n    display: flex;\r\n    align-items: center;\r\n    margin-bottom: 17px;\r\n    .tab-item {\r\n      width: 50%;\r\n      text-align: center;\r\n      font-size: 15px;\r\n      font-weight: 600;\r\n      color: #a188ff;\r\n      background: url(~@/assets/images/tab-d.webp) no-repeat;\r\n      background-size: 100% 100%;\r\n      height: 36px;\r\n      line-height: 36px;\r\n      &:not(:last-child) {\r\n        margin-right: 18px;\r\n      }\r\n      &.active {\r\n        color: #fff;\r\n        background: url(~@/assets/images/tab-d.webp) no-repeat;\r\n        background-size: 100% 100%;\r\n      }\r\n    }\r\n  }\r\n  .region-bg {\r\n    text-align: center;\r\n  }\r\n  .region1 {\r\n    padding: 23px 20px;\r\n    margin-bottom: 13px;\r\n    .key {\r\n      color: #00edf8;\r\n      font-size: 15px;\r\n      font-weight: 500;\r\n    }\r\n    .value {\r\n      padding-top: 22px;\r\n      font-size: 18px;\r\n      font-weight: 600;\r\n      color: #ffffff;\r\n      word-break: break-all;\r\n    }\r\n  }\r\n  .price-wrap {\r\n    padding: 0 19px;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    word-break: break-all;\r\n    margin-bottom: 14px;\r\n  }\r\n  .region2 {\r\n    margin-bottom: 12px;\r\n    .count-down-wrap {\r\n      padding: 50px 0 24px;\r\n      margin-bottom: 12px;\r\n      position: relative;\r\n      .van-count-down {\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        .block {\r\n          width: 55px;\r\n          height: 90px;\r\n          background: url('~@/assets/images/time-bg@2x.png') no-repeat;\r\n          background-size: 100% 100%;\r\n          font-size: 32px;\r\n          font-weight: 600;\r\n          position: relative;\r\n          .text {\r\n            background: linear-gradient(0deg, #b9c1fe 0%, #ffffff 100%);\r\n            -webkit-background-clip: text;\r\n            -webkit-text-fill-color: transparent;\r\n            position: absolute;\r\n            line-height: 1.1;\r\n            left: 50%;\r\n            transform: translateX(-50%);\r\n            top: 13px;\r\n          }\r\n          .name {\r\n            position: absolute;\r\n            bottom: 3px;\r\n            left: 50%;\r\n            transform: translateX(-50%);\r\n            font-size: 12px;\r\n            color: #b1beea;\r\n          }\r\n        }\r\n        .colon {\r\n          color: #b1beea;\r\n          font-size: 20px;\r\n          font-weight: 600;\r\n          position: relative;\r\n          margin-top: -34px;\r\n          padding: 0 8px;\r\n        }\r\n      }\r\n      .des {\r\n        color: #b1beea;\r\n        font-size: 15px;\r\n      }\r\n      .part {\r\n        text-align: center;\r\n        font-size: 15px;\r\n        font-weight: 500;\r\n        color: #00edf8;\r\n        padding: 9px 0;\r\n      }\r\n      .btn-wrap {\r\n        margin-top: 3px;\r\n        display: flex;\r\n        justify-content: center;\r\n        .btn {\r\n          width: initial;\r\n          padding: 0 40px;\r\n          height: 34px;\r\n          line-height: 34px;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .cell-bg-wrap {\r\n    padding-bottom: 30px;\r\n  }\r\n  .cell-bg {\r\n    padding: 13px 10px 11px;\r\n    text-align: center;\r\n    &:not(:last-child) {\r\n      margin-bottom: 12px;\r\n    }\r\n    .key {\r\n      font-size: 15px;\r\n      font-weight: 500;\r\n      color: #00edf8;\r\n    }\r\n    .value {\r\n      padding-top: 11px;\r\n      font-size: 17px;\r\n      font-weight: 600;\r\n      color: #ffffff;\r\n      word-break: break-all;\r\n      span {\r\n        font-size: 14px;\r\n      }\r\n    }\r\n  }\r\n  .region11 {\r\n    padding: 20px 15px 20px 30px;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: flex-end;\r\n    margin-bottom: 12px;\r\n    .left {\r\n      text-align: left;\r\n      .title {\r\n        font-size: 15px;\r\n        font-weight: 500;\r\n        color: #00edf8;\r\n      }\r\n      .value {\r\n        padding-top: 22px;\r\n        font-size: 18px;\r\n        font-weight: 600;\r\n        color: #ffffff;\r\n      }\r\n    }\r\n    .btn-wrap {\r\n      .van-button {\r\n        min-width: 104px;\r\n        line-height: 34px;\r\n        height: 34px;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./index.vue?vue&type=template&id=1eb90c9e&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=1eb90c9e&lang=less&scoped=true\"\n\nimport exportComponent from \"D:\\\\contract\\\\frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1eb90c9e\"]])\n\nexport default __exports__","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./index.vue?vue&type=style&index=0&id=1eb90c9e&lang=less&scoped=true\""],"sourceRoot":""}