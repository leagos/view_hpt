{"version":3,"sources":["webpack:///./src/views/ido/index.vue?8a67","webpack:///./src/assets/images/banner@2x.png","webpack:///./src/components/MyDialog2.vue?b61d","webpack:///./src/assets/images/top.webp","webpack:///./src/components/Nft.vue?b683","webpack:///./src/components/MyDialog2.vue?91f7","webpack:///./src/assets/images/nft2.webp","webpack:///./src/views/ido/index.vue?a858","webpack:///./src/components/Ido.vue","webpack:///./src/components/Ido.vue?a333","webpack:///./src/views/ido/index.vue","webpack:///./src/views/ido/index.vue?f444","webpack:///./src/assets/images/nft3.webp","webpack:///./src/components/Nft.vue","webpack:///./src/components/MyDialog2.vue","webpack:///./src/components/MyDialog2.vue?5899","webpack:///./src/components/Nft.vue?cc4c","webpack:///./src/views/ido/index.vue?c04a"],"names":["module","exports","class","style","_createElementBlock","_createElementVNode","Number","_ctx","allowance","_createBlock","_component_van_button","type","loading","disabled","onClick","loading-text","_createVNode","_component_MyDialog","isShow","show","$event","title","isSad","result","content","_Fragment","key","_toDisplayString","_hptAmount2","footer","isShade","_usdtAmount2","_component_Nft","isRefresh","emit","components","MyDialog","Nft","setup","props","proxy","getCurrentInstance","store","useStore","t","useI18n","data","reactive","address","computed","state","accounts","web3","provider","IdoInfo","idoBtn","usdt","idoContract","usdtContract","dialogBuyPre","isDialogPrompt","isStart","isEnd","isRefreshNft","initContract","eth","Contract","idoAbi","config","IDO","tokenAbi","usdtAddres","initData","getIdoInfoHandle","getAllowanceUsdt","async","methods","call","from","approveUsdtHandle","approve","MaxUint256","send","then","Toast","catch","error","idoHandle","_usdtBalance","balanceOf","BigNumber","dividedBy","toFixed","comparedTo","buy","estimateGas","$errorformat","Toast0","duration","res","getIdoInfo","_startTime","_endTime","_usdtAmount","_hptAmount","_IdoInfo","curTime","Date","parse","toString","substr","clear","isDialogBuyHandle","startTime","$dateformat","endTime","getUserIdo","watch","val","refData","toRefs","__exports__","render","_component_Header","leftTitle","_component_Ido","_hoisted_4","_hoisted_6","idotime","idoPay","_hoisted_13","idoget","_hoisted_17","recnum","totalRewards","nft","_hoisted_46","_hoisted_49","_hoisted_52","_hoisted_55","_hoisted_58","_hoisted_61","_hoisted_64","_hoisted_67","_hoisted_70","_hoisted_73","_component_Footer","symbol","received","balance","Header","Footer","Ido","time","ref","local","getLang","dataImage","image","require","dataIdo","widthdrawContract","dialogRecive","reciveBtn","withdrawAbi","WIDTHDRAW","getIdoHandle","userIdoInfo","_totalRewards","_inviteNumber","_nftNumber","_claimedAmount","recivePreHandle","Toast1","toUpperCase","reciveHandle","claim","src","_imports_0","alt","_imports_1","_imports_2","_hoisted_2","_hoisted_5","num","_hoisted_8","_hoisted_9","$props","_renderSlot","undefined","Boolean","default","String","$t","closeHandle","newVal","document","querySelector","overflow","removeAttribute","route","useRoute","isDialogBox","isDialogTop","boxid","timerInterval","myBoxHandle","callback","myBox","id","window","clearInterval","interval","setInterval","receiveNftHandle","luck","award","indexOf","arr","split","onBeforeUnmount","name"],"mappings":"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","file":"static/js/chunk-3d55d85a.6abc03d0.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./index.vue?vue&type=style&index=0&id=10a7634f&lang=less&scoped=true\"","module.exports = __webpack_public_path__ + \"static/img/banner@2x.6523cc26.png\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./MyDialog2.vue?vue&type=style&index=0&id=2c36c583&lang=less&scoped=true\"","module.exports = __webpack_public_path__ + \"static/img/top.28f4e26a.webp\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Nft.vue?vue&type=style&index=0&id=06c76534&lang=less\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./MyDialog2.vue?vue&type=style&index=1&id=2c36c583&lang=less\"","module.exports = __webpack_public_path__ + \"static/img/nft2.d84c51bb.webp\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./index.vue?vue&type=style&index=1&id=10a7634f&lang=less\"","<template>\r\n  <div>\r\n    <div class=\"btn-wrap parent-btn\">\r\n      <van-button v-if=\"!Number(usdt.allowance)\" class=\"btn\" type=\"primary\" :loading=\"usdt.loading\" :disabled=\"usdt.loading\" :loading-text=\"t('index.參與')+'...'\" @click=\"approveUsdtHandle\">{{t('index.參與')}}</van-button>\r\n      <van-button v-else class=\"btn\" type=\"primary\" :loading=\"dialogBuyPre.loading\" :disabled=\"dialogBuyPre.loading\" @click=\"isDialogBuyHandle\" :loading-text=\"t('index.認購')+'...'\">{{t('index.認購')}}</van-button>\r\n    </div>\r\n    <MyDialog v-model:isShow=\"isDialogPrompt.show\" :title=\"$t('index.提示')\" :isSad=\"!isDialogPrompt.result\">\r\n      <template #content>\r\n        <template v-if=\"isDialogPrompt.result\">\r\n          <div class=\"status\">{{t('index.恭喜！')}}</div>\r\n          <div class=\"info\">{{t('index.成功購買')}} <span style=\"color:#fff;\">{{IdoInfo._hptAmount2}}</span> HPT</div>\r\n        </template>\r\n        <template v-else>\r\n          <div class=\"status\">{{t('index.很遺憾！ ')}}</div>\r\n          <div class=\"info\">{{t('index.本次購買失敗！')}}</div>\r\n        </template>\r\n      </template>\r\n      <template #footer>\r\n        <div class=\"btn-wrap dialog-btn\" style=\"padding-top:0;\">\r\n          <van-button type=\"primary\" @click=\"isDialogPrompt.show = false\">{{ $t(\"index.確定\") }}</van-button>\r\n        </div>\r\n      </template>\r\n    </MyDialog>\r\n    <MyDialog v-model:isShow=\"dialogBuyPre.show\" :title=\"$t('index.購買IDO')\" :isShade=\"false\">\r\n      <template #content>\r\n        <div class=\"dialog-li\">\r\n          <div class=\"key\">{{ t(\"index.支付\") }}</div>\r\n          <div class=\"value theme-color\">\r\n            {{IdoInfo._usdtAmount2||'--'}} USDT\r\n          </div>\r\n        </div>\r\n        <div class=\"dialog-li\">\r\n          <div class=\"key\">{{ t(\"index.獲得\") }}</div>\r\n          <div class=\"value theme-color\">\r\n            {{IdoInfo._hptAmount2||'--' }} HPT\r\n          </div>\r\n        </div>\r\n      </template>\r\n      <template #footer>\r\n        <div class=\"btn-wrap dialog-btn\" style=\"padding-top:0;\">\r\n          <van-button type=\"primary\" @click=\"dialogBuyPre.show = false\">{{ $t(\"index.取消\") }}</van-button>\r\n          <van-button type=\"primary\" @click=\"idoHandle\" :loading=\"idoBtn.loading\" :disabled=\"idoBtn.loading\" :loading-text=\"$t('index.確認') + '...'\">{{ $t(\"index.確認\") }}</van-button>\r\n        </div>\r\n      </template>\r\n    </MyDialog>\r\n    <Nft :isRefresh=\"isRefreshNft\" />\r\n  </div>\r\n</template>\r\n<script>\r\nimport { reactive, toRefs, computed, watch, getCurrentInstance } from \"vue\";\r\nimport { useI18n } from \"vue-i18n\";\r\nimport { useStore } from \"vuex\";\r\nimport MyDialog from \"@/components/MyDialog\";\r\nimport Nft from '@/components/Nft'\r\nimport BigNumber from \"bignumber.js\";\r\nimport idoAbi from \"@/utils/idoAbi.json\";\r\nimport tokenAbi from \"@/utils/abi\";\r\nimport { config } from \"@/utils/config\";\r\nimport { Toast } from \"vant\";\r\nimport { MaxUint256 } from \"@ethersproject/constants\";\r\nexport default {\r\n  emit: ['IdoInfo', 'time'],\r\n  components: {\r\n    MyDialog,\r\n    Nft\r\n  },\r\n  setup (props, { emit }) {\r\n    const { proxy } = getCurrentInstance();\r\n    const store = useStore()\r\n    const { t } = useI18n()\r\n    const data = reactive({\r\n      t: t,\r\n      address: computed(() => store.state.accounts[0]),\r\n      web3: computed(() => store.state.provider),\r\n      IdoInfo: {},\r\n      idoBtn: {\r\n        loading: false\r\n      },\r\n      usdt: {\r\n        loading: false,\r\n        allowance: 0\r\n      },\r\n      idoContract: null,\r\n      usdtContract: null,\r\n      dialogBuyPre: {\r\n        loading: false,\r\n        show: false\r\n      },\r\n      isDialogPrompt: {\r\n        show: false,\r\n        result: false\r\n      },\r\n      isStart: false,\r\n      isEnd: false,\r\n      isRefreshNft: false,\r\n      initContract: () => {\r\n        data.idoContract = new data.web3.eth.Contract(\r\n          idoAbi,\r\n          config.IDO\r\n        );\r\n        data.usdtContract = new data.web3.eth.Contract(\r\n          tokenAbi,\r\n          config.usdtAddres\r\n        );\r\n        data.initData()\r\n      },\r\n      initData: () => {\r\n        data.getIdoInfoHandle()\r\n        data.getAllowanceUsdt()\r\n      },\r\n      getAllowanceUsdt: async () => {\r\n        let allowance = await data.usdtContract.methods\r\n          .allowance(data.address, config.IDO)\r\n          .call({ from: data.address });\r\n        console.log(allowance, 'getAllowanceUsdt')\r\n        data.usdt.allowance = allowance;\r\n        return allowance;\r\n      },\r\n      approveUsdtHandle: () => {\r\n        data.usdt.loading = true\r\n        data.usdtContract.methods\r\n          .approve(config.IDO, MaxUint256)\r\n          .send({ from: data.address })\r\n          .then(async () => {\r\n            data.usdt.loading = false\r\n            Toast(t(\"index.批准成功\"));\r\n            await data.getAllowanceUsdt();\r\n          })\r\n          .catch((error) => {\r\n            console.log(error)\r\n            data.usdt.loading = false\r\n            Toast(t(\"index.批准失敗\"));\r\n          });\r\n      },\r\n      idoHandle: async () => {\r\n        console.log('idoHandle')\r\n        try {\r\n          data.idoBtn.loading = true\r\n          let _usdtBalance = await data.usdtContract.methods.balanceOf(data.address).call({\r\n            from: data.address\r\n          })\r\n          _usdtBalance = new BigNumber(_usdtBalance)\r\n            .dividedBy(10 ** 18)\r\n            .toFixed();\r\n          if (new BigNumber(_usdtBalance).comparedTo(data.IdoInfo._usdtAmount2) === -1) {\r\n            data.idoBtn.loading = false\r\n            return Toast(t(\"index.餘額不足\"));\r\n          }\r\n          console.log(_usdtBalance, '_usdtBalance', data.IdoInfo._usdtAmount2)\r\n          let _gas = await data.idoContract.methods\r\n            .buy()\r\n            .estimateGas({\r\n              from: data.address\r\n            });\r\n          console.log(_gas, 'buy.estimateGas')\r\n          let res = await data.idoContract.methods.buy().send({\r\n            from: data.address\r\n          });\r\n          console.log(res, 'buy')\r\n          data.dialogBuyPre.show = false // 关闭购买弹窗\r\n          data.idoBtn.loading = false\r\n          data.isDialogPrompt.result = true\r\n          data.isDialogPrompt.show = true // 展示购买结果弹窗\r\n          data.isRefreshNft = !data.isRefreshNft // 查询是否获取nft\r\n        } catch (error) {\r\n          data.dialogBuyPre.show = false // 关闭购买弹窗\r\n          data.isDialogPrompt.result = false\r\n          data.isDialogPrompt.show = true // 展示购买结果弹窗\r\n          data.idoBtn.loading = false\r\n          proxy.$errorformat(error)\r\n        }\r\n      },\r\n      getIdoInfoHandle: async () => {\r\n        const Toast0 = Toast.loading({\r\n          duration: 0,\r\n        });\r\n        try {\r\n          let res = await data.idoContract.methods.getIdoInfo().call({\r\n            from: data.address\r\n          });\r\n          let { _startTime, _endTime, _usdtAmount, _hptAmount } = res\r\n          let _IdoInfo = {\r\n            _startTime, _endTime, _usdtAmount, _hptAmount\r\n          }\r\n          _IdoInfo._usdtAmount2 = new BigNumber(_usdtAmount)\r\n            .dividedBy(10 ** 18)\r\n            .toFixed();\r\n          _IdoInfo._hptAmount2 = new BigNumber(_hptAmount)\r\n            .dividedBy(10 ** 9)\r\n            .toFixed();\r\n            console.log(_IdoInfo);\r\n\r\n          data.IdoInfo = _IdoInfo\r\n          emit('IdoInfo', _IdoInfo)\r\n          let curTime = Date.parse(new Date()).toString();\r\n          curTime = curTime.substr(0, 10);\r\n          if (curTime < _startTime) {\r\n            // 未開始\r\n            console.log('未開始', _startTime)\r\n            emit('time', 0)\r\n            data.isStart = false\r\n            data.isEnd = false\r\n          } else if (curTime > _endTime) {\r\n            console.log('已結束')\r\n            emit('time', 0)\r\n            data.isStart = true\r\n            data.isEnd = true\r\n          } else {\r\n            emit('time', (res._endTime - Number(curTime)) * 1000)\r\n            data.isStart = true\r\n            data.isEnd = false\r\n          }\r\n          Toast0.clear()\r\n        } catch (error) {\r\n          Toast0.clear()\r\n          proxy.$errorformat(error)\r\n        }\r\n      },\r\n      isDialogBuyHandle: async () => {\r\n        if (!data.isStart) {\r\n          let startTime = data.IdoInfo._startTime\r\n          return Toast(t(\"index.未到開始時間：key，請稍後\", { key: proxy.$dateformat(startTime) }));\r\n        }\r\n        if (data.isEnd) {\r\n          let endTime = data.IdoInfo._endTime\r\n          return Toast(t(\"index.已到結束時間：key，請稍後\", { key: proxy.$dateformat(endTime) }));\r\n        }\r\n        try {\r\n          data.dialogBuyPre.loading = true\r\n          let res = await data.idoContract.methods.getUserIdo(data.address).call({\r\n            from: data.address\r\n          });\r\n          let { _hptAmount, _usdtAmount } = res\r\n          if (new BigNumber(_hptAmount).comparedTo(0) === 1 && new BigNumber(_usdtAmount).comparedTo(0) === 1) {\r\n            // 大于为1，小于为-1，等于为0\r\n            data.dialogBuyPre.loading = false\r\n            return Toast(t(\"index.每個地址只能購買一次\"));\r\n          } else {\r\n            data.dialogBuyPre.show = true\r\n          }\r\n          data.dialogBuyPre.loading = false\r\n        } catch (error) {\r\n          data.dialogBuyPre.loading = false\r\n          proxy.$errorformat(error)\r\n        }\r\n      }\r\n    })\r\n    if (data.address) {\r\n      data.initContract()\r\n    }\r\n    watch(() => data.address, (val) => {\r\n      if (val) {\r\n        data.initContract()\r\n      }\r\n    })\r\n    const refData = toRefs(data);\r\n    return {\r\n      ...refData\r\n    };\r\n  }\r\n}\r\n</script>\r\n<style lang=\"less\">\r\n</style>\r\n<style lang=\"less\" scoped>\r\n</style>\r\n","import { render } from \"./Ido.vue?vue&type=template&id=3e0d3465\"\nimport script from \"./Ido.vue?vue&type=script&lang=js\"\nexport * from \"./Ido.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\contract\\\\frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"ido footer-container\">\r\n    <Header title=\"\">\r\n      <template #leftTitle>\r\n        IDO\r\n      </template>\r\n    </Header>\r\n    <div class=\"index-swipe\">\r\n      <Ido></Ido>\r\n      <div class=\"ido\"><span>Happy Planet IDO</span></div>\r\n    </div>\r\n    <!-- <div class=\"index-swipe\" v-for=\"(item,index) in dataImage\" :key=\"index\">\r\n      <Ido></Ido>\r\n      <img class=\"banner-img\" :src=\"item.image\" alt=\"\" />\r\n    </div> -->\r\n    <div class=\"price-wrap button1\">\r\n      {{t('index.上線價格')}} <span>0.05U</span> {{t('index.起')}}\r\n    </div>\r\n    <div class=\"cell region-bg\">\r\n      <div class=\"time\" v-if=\"Number(dataIdo.idotime)\">{{$dateformat(dataIdo.idotime) }}</div>\r\n      <div class=\"bottom\">\r\n        <div class=\"item\">\r\n          <div class=\"key\">{{t('index.認購金額')}}</div>\r\n          <div class=\"value\">{{dataIdo.idoPay}} <span>USDT</span></div>\r\n        </div>\r\n        <div class=\"item\">\r\n          <div class=\"key\">{{t('index.獲得')}}</div>\r\n          <div class=\"value\">{{dataIdo.idoget}} <span>HPT</span></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"cell-1 region-bg\">\r\n      <div class=\"title\">{{t('index.IDO邀請參與')}}</div>\r\n      <div class=\"li\">\r\n        <div class=\"key\">{{t('index.邀請人數')}}</div>\r\n        <div class=\"value\">{{dataIdo.recnum}} {{t('index.人')}}</div>\r\n      </div>\r\n      <div class=\"li\">\r\n        <div class=\"key\">{{t('index.獲得分享獎勵')}}</div>\r\n        <div class=\"value\">{{dataIdo.totalRewards}} USDT</div>\r\n      </div>\r\n      <div class=\"li\">\r\n        <div class=\"key\">{{t('index.獲得NFT星球')}}</div>\r\n        <div class=\"value\">{{dataIdo.nft}} {{t('index.個')}}</div>\r\n      </div>\r\n      <!-- <div class=\"li\">\r\n        <div class=\"key\">{{t('index.獲得分享獎勵')}}</div>\r\n        <div class=\"value\">{{dataIdo.shareprize}} USDT</div>\r\n      </div> -->\r\n    </div>\r\n    <div class=\"cell-2\">\r\n      <van-button class=\"btn\" type=\"primary\" @click=\"recivePreHandle('hpt')\">{{t('index.領取key',{key:'HPT'})}}</van-button>\r\n      <!-- <van-button class=\"btn\" type=\"primary\" @click=\"recivePreHandle('usdt')\">{{t('index.領取key',{key:'USDT'})}}</van-button> -->\r\n    </div>\r\n    \r\n    <!-- <div class=\"cell-3 region-bg\" style=\"margin-bottom:20px;\">\r\n      <div class=\"key\">{{t('index.盲盒獎勵')}}</div>\r\n      <div class=\"value\">{{dataIdo.boxaward || '--'}}</div>\r\n    </div> -->\r\n    <div class=\"cell-1 region-bg\">\r\n      <div class=\"title\">{{t('index.IDO推廣獎勵')}}</div>\r\n      <div class=\"li\">\r\n       <div class=\"key\">{{t('index.IDO推廣獎勵説明')}}</div>\r\n      </div>\r\n      <div class=\"li\">\r\n       <div class=\"key\" style=\"text-align:left;\">{{t('index.返利1')}}</div>\r\n       <!-- <div class=\"value\">{{t('index.返利1')}}</div> -->\r\n      </div>\r\n        <div class=\"li\">\r\n       <div class=\"key\" style=\"text-align:left;\">{{t('index.返利2')}}</div>\r\n       <!-- <div class=\"value\">{{t('index.返利2')}}</div> -->\r\n      </div>\r\n        <div class=\"li\">\r\n       <div class=\"key\" style=\"text-align:left;\">{{t('index.返利3')}}</div>\r\n       <!-- <div class=\"value\">{{t('index.返利3')}}</div> -->\r\n      </div>\r\n     \r\n    </div>\r\n     <div class=\"cell-1 region-bg\">\r\n      <div class=\"title\">{{t('index.IDO機制')}}</div>\r\n      <div class=\"li\">\r\n       <div class=\"key\">{{t('index.IDO機制説明')}}</div>\r\n      </div>\r\n      <div class=\"li\">\r\n       <div class=\"key\">{{t('index.第一天')}}</div>\r\n       <div class=\"value\">100 USDT = 2000 HPT</div>\r\n      </div>\r\n      <div class=\"li\">\r\n       <div class=\"key\">{{t('index.第二天')}}</div>\r\n       <div class=\"value\">100 USDT = 1950HPT</div>\r\n      </div>\r\n      <div class=\"li\">\r\n       <div class=\"key\">{{t('index.第三天')}}</div>\r\n       <div class=\"value\">100 USDT = 1900 HPT</div>\r\n      </div>\r\n      <div class=\"li\">\r\n       <div class=\"key\">{{t('index.第四天')}}</div>\r\n       <div class=\"value\">100 USDT = 1850 HPT</div>\r\n      </div>\r\n      <div class=\"li\">\r\n       <div class=\"key\">{{t('index.第五天')}}</div>\r\n       <div class=\"value\">100 USDT = 1800 HPT</div>\r\n      </div>\r\n      <div class=\"li\">\r\n       <div class=\"key\">{{t('index.第六天')}}</div>\r\n       <div class=\"value\">100 USDT = 1750 HPT</div>\r\n      </div>\r\n      <div class=\"li\">\r\n       <div class=\"key\">{{t('index.第七天')}}</div>\r\n       <div class=\"value\">100 USDT = 1700 HPT</div>\r\n      </div>\r\n      <div class=\"li\">\r\n       <div class=\"key\">{{t('index.第八天')}}</div>\r\n       <div class=\"value\">100 USDT = 1650HPT</div>\r\n      </div>\r\n      <div class=\"li\">\r\n       <div class=\"key\">{{t('index.第九天')}}</div>\r\n       <div class=\"value\">100 USDT = 1600 HPT</div>\r\n      </div>\r\n      <div class=\"li\">\r\n       <div class=\"key\">{{t('index.第十天')}}</div>\r\n       <div class=\"value\">100 USDT = 1550 HPT</div>\r\n      </div>  \r\n    </div>\r\n    <Footer></Footer>\r\n    <MyDialog v-model:isShow=\"dialogRecive.show\" :title=\"$t('index.領取key',{key:dialogRecive.symbol})\" :isShade=\"false\">\r\n      <template #content>\r\n        <div class=\"dialog-li\">\r\n          <div class=\"key\">{{ t(\"index.已領取數量\") }}</div>\r\n          <div class=\"value theme-color\">\r\n            {{dialogRecive.received || '--'}} {{dialogRecive.symbol}}\r\n          </div>\r\n        </div>\r\n        <div class=\"dialog-li\">\r\n          <div class=\"key\">{{ t(\"index.可領取數量\") }}</div>\r\n          <div class=\"value theme-color\">\r\n            {{dialogRecive.balance || '--'}} {{dialogRecive.symbol}}\r\n          </div>\r\n        </div>\r\n      </template>\r\n      <template #footer>\r\n        <div class=\"btn-wrap dialog-btn\" style=\"padding-top:0;\">\r\n          <van-button type=\"primary\" @click=\"dialogRecive.show = false\">{{ $t(\"index.取消\") }}</van-button>\r\n          <van-button type=\"primary\" @click=\"reciveHandle\" :loading=\"reciveBtn.loading\" :disabled=\"reciveBtn.loading\" :loading-text=\"$t('index.確認') + '...'\">{{ $t(\"index.確認\") }}</van-button>\r\n        </div>\r\n      </template>\r\n    </MyDialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Header from '@/components/Header'\r\nimport Footer from '@/components/Footer'\r\nimport Ido from '@/components/Ido'\r\nimport { reactive, toRefs, computed, watch, ref, getCurrentInstance } from \"vue\";\r\nimport { useI18n } from \"vue-i18n\";\r\nimport { useStore } from \"vuex\";\r\nimport { getLang } from \"@/utils/i18n\";\r\nimport { Toast } from \"vant\";\r\nimport idoAbi from \"@/utils/idoAbi.json\";\r\nimport tokenAbi from \"@/utils/abi\";\r\nimport withdrawAbi from \"@/utils/withdrawAbi\";\r\nimport { config } from \"@/utils/config\";\r\nimport { ido, receivePre, receive } from '@/api'\r\nimport BigNumber from \"bignumber.js\";\r\nimport MyDialog from \"@/components/MyDialog\";\r\nexport default {\r\n  components: {\r\n    Header,\r\n    Footer,\r\n    Ido,\r\n    MyDialog\r\n  },\r\n  setup () {\r\n    const { proxy } = getCurrentInstance();\r\n    const store = useStore()\r\n    const { t } = useI18n()\r\n    const time = ref(30 * 60 * 60 * 1000);\r\n    const data = reactive({\r\n      t: t,\r\n      address: computed(() => store.state.accounts[0]),\r\n      web3: computed(() => store.state.provider),\r\n      balance: 0,\r\n      local: getLang() || \"zh-TW\",\r\n      dataImage: [{ image: require('@/assets/images/banner@2x.png') }],\r\n      dataIdo: {},\r\n      idoContract: null,\r\n      widthdrawContract: null,\r\n      usdtContract: null,\r\n      dialogRecive: {\r\n        show: false,\r\n        symbol: '',\r\n        received: '',\r\n        balance: ''\r\n      },\r\n      reciveBtn: {\r\n        loading: false\r\n      },\r\n      initContract: () => {\r\n        data.idoContract = new data.web3.eth.Contract(\r\n          idoAbi,\r\n          config.IDO\r\n        );\r\n        data.usdtContract = new data.web3.eth.Contract(\r\n          tokenAbi,\r\n          config.usdtAddres\r\n        );\r\n        data.widthdrawContract = new data.web3.eth.Contract(\r\n          withdrawAbi,\r\n          config.WIDTHDRAW\r\n        );\r\n        data.initData()\r\n      },\r\n      initData: () => {\r\n        data.getIdoHandle()\r\n      },\r\n      getIdoHandle: async () =>{\r\n        const Toast0 = Toast.loading({\r\n          duration: 0,\r\n        });\r\n        let userIdoInfo = await data.idoContract.methods\r\n          .getUserIdo(data.address)\r\n          .call({ from: data.address });\r\n        console.log(userIdoInfo, 'getUserIdo')\r\n        data.dataIdo.idoPay = new BigNumber(userIdoInfo._usdtAmount)\r\n            .dividedBy(10 ** 18)\r\n            .toFixed();\r\n        data.dataIdo.idoget = new BigNumber(userIdoInfo._hptAmount)\r\n            .dividedBy(10 ** 9)\r\n            .toFixed();\r\n        data.dataIdo.totalRewards = new BigNumber(userIdoInfo._totalRewards)\r\n            .dividedBy(10 ** 18)\r\n            .toFixed();\r\n        data.dataIdo.recnum = userIdoInfo._inviteNumber;\r\n        data.dataIdo.nft = userIdoInfo._nftNumber;\r\n        data.dialogRecive.received = new BigNumber(userIdoInfo._claimedAmount)\r\n            .dividedBy(10 ** 9)\r\n            .toFixed();\r\n        data.dialogRecive.balance = data.dataIdo.idoget - new BigNumber(userIdoInfo._claimedAmount).dividedBy(10 ** 9)\r\n            .toFixed();\r\n        console.log( data.dialogRecive,\" data.dialogRecive\")\r\n      },\r\n      recivePreHandle: (symbol) => {\r\n        const Toast1 = Toast.loading({\r\n          duration: 0,\r\n        });\r\n        data.dialogRecive.show = true\r\n        data.dialogRecive.symbol = symbol.toUpperCase()\r\n\r\n        Toast1.clear()\r\n\r\n        // receivePre({\r\n        //   address: data.address,\r\n        //   banktype: symbol\r\n        // }).then((res) => {\r\n        //   let { balance = '', received = '' } = res.data\r\n        //   data.dialogRecive.balance = balance\r\n        //   data.dialogRecive.received = received\r\n        //   \r\n        //   \r\n        //   Toast1.clear()\r\n        // })\r\n      },\r\n      reciveHandle: async () => {\r\n        try {\r\n          data.reciveBtn.loading = true\r\n          // let res = await receive({\r\n          //   address: data.address,\r\n          //   banktype: data.dialogRecive.symbol.toLowerCase()\r\n          // })\r\n          // console.log(res)\r\n          // let orderId = res.data.orderid\r\n          // let _gasAmount = await data.widthdrawContract.methods._gasAmount().call({ from: data.address });\r\n          // console.log(_gasAmount, '_gasAmount')\r\n          let _res = await data.idoContract.methods\r\n            .claim()\r\n            .estimateGas({\r\n              from: data.address,\r\n              // gas: _gasAmount\r\n            });\r\n          console.log(_res, 'estimateGas')\r\n          await data.idoContract.methods.claim().send({\r\n            from: data.address\r\n          })\r\n          data.reciveBtn.loading = false\r\n          Toast(t('index.Success'))\r\n        } catch (error) {\r\n          data.reciveBtn.loading = false\r\n          console.log(error.message,'error')\r\n          proxy.$errorformat(error)\r\n        }\r\n      }\r\n    })\r\n    if (data.address) {\r\n      data.initContract()\r\n    }\r\n    watch(() => data.address, (val) => {\r\n      if (val) {\r\n        data.initContract()\r\n      }\r\n    })\r\n    const refData = toRefs(data);\r\n    return {\r\n      ...refData,\r\n      time\r\n    };\r\n  }\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.footer-container {\r\n  .index-swipe {\r\n    margin: 0 0 29px;\r\n    background: url(~@/assets/images/swiper-bg.webp) no-repeat;\r\n    background-size: 100% 100%;\r\n    .van-swipe-item {\r\n      width: 331px;\r\n      height: 154px;\r\n      position: relative;\r\n      img {\r\n        width: 100%;\r\n        height: 100%;\r\n        display: block;\r\n        padding: 8px;\r\n      }\r\n    }\r\n  }\r\n}\r\n.ido{\r\n  padding-top: 46px;\r\n  text-align: center;\r\n  font-size: 36px;\r\n  span{\r\n    color: #5bffff;\r\n  }\r\n}\r\n\r\n.price-wrap {\r\n  font-size: 17px;\r\n  font-weight: 500;\r\n  color: #5bffff;\r\n  text-shadow: 0px 1px 0px rgba(73, 0, 146, 0.35);\r\n  span {\r\n    color: #fff;\r\n  }\r\n  margin: 0 auto 30px;\r\n}\r\n.cell {\r\n  padding: 17px;\r\n  margin-bottom: 23px;\r\n  text-align: left;\r\n  .time {\r\n    font-size: 15px;\r\n    font-weight: 500;\r\n    color: #00edf8;\r\n    padding: 7px 8px;\r\n    line-height: 1;\r\n    background: url(~@/assets/images/border3.webp) no-repeat;\r\n    background-size: 100% 100%;\r\n    width: 160px;\r\n  }\r\n  .bottom {\r\n    padding: 15px 7px 15px;\r\n    display: flex;\r\n    align-items: center;\r\n    flex-wrap: wrap;\r\n    .item {\r\n      width: 50%;\r\n      .key {\r\n        font-size: 14px;\r\n        font-weight: 500;\r\n        color: #00edf8;\r\n      }\r\n      .value {\r\n        padding-top: 7px;\r\n        font-size: 18px;\r\n        font-weight: 600;\r\n        color: #ffffff;\r\n        word-break: break-word;\r\n        span {\r\n          font-size: 14px;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n.cell-1 {\r\n  padding: 45px 24px 31px;\r\n  margin-bottom: 21px;\r\n  position: relative;\r\n  .li {\r\n    display: flex;\r\n    align-items: center;\r\n    flex-wrap: wrap;\r\n    &:not(:last-child) {\r\n      padding-bottom: 25px;\r\n    }\r\n    font-size: 15px;\r\n    font-weight: 500;\r\n    .key {\r\n      color: #00edf8;\r\n    }\r\n    .value {\r\n      text-align: right;\r\n      flex-grow: 1;\r\n      font-size: 15px;\r\n      font-weight: 600;\r\n      color: #ffffff;\r\n    }\r\n  }\r\n}\r\n.cell-2 {\r\n  display: flex;\r\n  align-items: center;\r\n  padding-bottom: 21px;\r\n  .van-button {\r\n    width: 33.33%;\r\n    height: 34px;\r\n    line-height: 34px;\r\n    font-size: 14px;\r\n    font-weight: 500;\r\n    color: #ffffff;\r\n    border: initial;\r\n    &:not(:last-child) {\r\n      margin-right: 3px;\r\n    }\r\n    &:nth-child(1) {\r\n      background: url(~@/assets/images/button2.webp) no-repeat;\r\n      background-size: 100% 100%;\r\n    }\r\n    &:nth-child(2) {\r\n      background: url(~@/assets/images/button3.webp) no-repeat;\r\n      background-size: 100% 100%;\r\n    }\r\n    &:nth-child(3) {\r\n      background: url(~@/assets/images/button4.webp) no-repeat;\r\n      background-size: 100% 100%;\r\n    }\r\n  }\r\n}\r\n.cell-3 {\r\n  padding: 0 20px;\r\n  .key {\r\n    padding-top: 24px;\r\n    font-size: 15px;\r\n    font-weight: 500;\r\n    color: #00edf8;\r\n  }\r\n  .value {\r\n    word-break: break-all;\r\n    padding-top: 20px;\r\n    font-size: 22px;\r\n    font-weight: 600;\r\n    color: #ffffff;\r\n    padding-bottom: 25px;\r\n    span {\r\n      font-size: 14px;\r\n    }\r\n  }\r\n}\r\n</style>\r\n<style lang=\"less\">\r\n#app {\r\n  .ido {\r\n    .van-swipe__indicators {\r\n      bottom: 17px;\r\n    }\r\n    .van-swipe__indicator {\r\n      background: url(~@/assets/images/indicator.png) no-repeat;\r\n      background-size: 100% 100%;\r\n      border-radius: initial;\r\n      width: 12px;\r\n      height: 4px;\r\n      background-color: initial !important;\r\n      margin-right: 3px;\r\n    }\r\n    .index-swipe {\r\n      position: relative;\r\n      width: 100%;\r\n      height: 166px;\r\n\r\n      .banner-img {\r\n        width: 100%;\r\n        height: auto;\r\n        padding: 8px;\r\n        display: block;\r\n      }\r\n      .parent-btn {\r\n        position: absolute;\r\n        bottom: 19px;\r\n        left: 50%;\r\n        transform: translateX(-50%);\r\n        .van-button {\r\n          width: initial;\r\n          min-width: 113px;\r\n          padding: 0 10px;\r\n          height: 34px;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n<style lang=\"less\" scoped>\r\n.calculator {\r\n  padding-bottom: 16px;\r\n  .cell-2 {\r\n    padding: 20px 30px;\r\n    .key {\r\n      margin-bottom: 10px;\r\n      // padding-top: 24px;\r\n      // padding-bottom: 24px;\r\n      font-size: 15px;\r\n      font-weight: 500;\r\n      color: #00edf8;\r\n      text-align: left;\r\n    }\r\n    .value {\r\n      word-break: break-all;\r\n      padding-top: 11px;\r\n      font-size: 22px;\r\n      font-weight: 600;\r\n      color: #ffffff;\r\n      padding-bottom: 25px;\r\n      span {\r\n        font-size: 14px;\r\n      }\r\n    }\r\n  }\r\n  .input-cell {\r\n    .input-title {\r\n      font-size: 16px;\r\n      font-weight: 500;\r\n      color: #00edf8;\r\n      margin-bottom: 12px;\r\n      margin-top: 16px;\r\n    }\r\n    .cell-bg {\r\n      padding: 0 13px;\r\n      min-height: initial;\r\n      display: flex;\r\n      align-items: center;\r\n    }\r\n    .label {\r\n      flex-shrink: 0;\r\n      font-size: 15px;\r\n      font-weight: 500;\r\n      color: #b1beea;\r\n    }\r\n    input {\r\n      background: transparent;\r\n      font-size: 15px;\r\n      font-weight: 600;\r\n      color: #fff;\r\n      text-align: left;\r\n      height: 44px;\r\n      width: 100%;\r\n      &::placeholder {\r\n        color: #b1beea;\r\n      }\r\n    }\r\n    .icon-swap {\r\n      display: block;\r\n      position: absolute;\r\n      left: 50%;\r\n      top: 110px;\r\n      transform: translateX(-50%);\r\n      width: 27px;\r\n      height: auto;\r\n    }\r\n  }\r\n  .table-title {\r\n    width: 220px;\r\n    height: 31px;\r\n    background: url(~@/assets/images/table-title.webp) no-repeat;\r\n    background-size: 100% 100%;\r\n    text-align: center;\r\n    margin: 0 auto 17px;\r\n    position: relative;\r\n    line-height: 31px;\r\n    font-size: 16px;\r\n    font-weight: 600;\r\n    color: #00edf8;\r\n    text-shadow: 0px 1px 0px rgba(73, 0, 146, 0.35);\r\n  }\r\n  .cell-1 {\r\n    padding: 35px 18px 34px;\r\n    margin-bottom: 21px;\r\n    position: relative;\r\n    .li {\r\n      display: flex;\r\n      align-items: center;\r\n      flex-wrap: wrap;\r\n      &:not(:last-child) {\r\n        padding-bottom: 23px;\r\n      }\r\n      font-size: 14px;\r\n      font-weight: 500;\r\n      .key {\r\n        color: #00edf8;\r\n      }\r\n      .value {\r\n        text-align: right;\r\n        flex-grow: 1;\r\n        font-size: 14px;\r\n        font-weight: 600;\r\n        color: #ffffff;\r\n        word-break: break-word;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>","import { render } from \"./index.vue?vue&type=template&id=10a7634f&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=10a7634f&lang=less&scoped=true\"\nimport \"./index.vue?vue&type=style&index=1&id=10a7634f&lang=less\"\nimport \"./index.vue?vue&type=style&index=2&id=10a7634f&lang=less&scoped=true\"\n\nimport exportComponent from \"D:\\\\contract\\\\frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-10a7634f\"]])\n\nexport default __exports__","module.exports = __webpack_public_path__ + \"static/img/nft3.1ca34437.webp\";","<template>\r\n  <div class=\"nft\">\r\n    <MyDialog v-model:isShow=\"isDialogPrompt.show\" :title=\"$t('index.我的NFT盲盒')\">\r\n      <template #content>\r\n        <img class=\"nft-img\" src=\"@/assets/images/nft2.webp\" alt=\"\">\r\n      </template>\r\n      <template #footer>\r\n        <div class=\"btn-wrap dialog-btn\" style=\"padding-top:0;\">\r\n          <van-button type=\"primary\" @click=\"isDialogPrompt.show = false\">{{ $t(\"index.立即領取\") }}</van-button>\r\n        </div>\r\n      </template>\r\n    </MyDialog>\r\n    <MyDialog v-model:isShow=\"isDialogTop.show\" :title=\"$t('index.我的NFT盲盒')\">\r\n      <template #content>\r\n        <div class=\"img-wrap\" style=\"position: relative;\">\r\n          <img style=\"width:204px;height:202px;display:block;margin:0 auto;\" src=\"@/assets/images/top.webp\" alt=\"\">\r\n          <div class=\"top-box\">\r\n            <div class=\"num\">{{isDialogTop.num}}</div>\r\n            <div class=\"label\">TOP</div>\r\n          </div>\r\n        </div>\r\n      </template>\r\n    </MyDialog>\r\n    <MyDialog v-model:isShow=\"isDialogBox.show\" :title=\"$t('index.我的NFT盲盒')\">\r\n      <template #content>\r\n        <img class=\"nft-box\" src=\"@/assets/images/nft3.webp\" alt=\"\">\r\n      </template>\r\n      <template #footer>\r\n        <div class=\"btn-wrap dialog-btn\" style=\"padding-top:0;\">\r\n          <van-button type=\"primary\" @click=\"isDialogBox.show = false\">{{ $t(\"index.稍後拆開\") }}</van-button>\r\n          <van-button type=\"primary\" @click=\"receiveNftHandle\">{{ $t(\"index.立即領取\") }}</van-button>\r\n        </div>\r\n      </template>\r\n    </MyDialog>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { reactive, toRefs, computed, watch, onBeforeUnmount } from \"vue\";\r\nimport { useI18n } from \"vue-i18n\";\r\nimport { useStore } from \"vuex\";\r\nimport MyDialog from \"@/components/MyDialog2\";\r\nimport { myBox, luck } from '@/api'\r\nimport { useRouter, useRoute } from \"vue-router\";\r\nimport {\r\n  Toast\r\n} from \"vant\";\r\nexport default {\r\n  props: {\r\n    isRefresh: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  components: {\r\n    MyDialog\r\n  },\r\n  setup (props) {\r\n    const route = useRoute()\r\n    const store = useStore()\r\n    const { t } = useI18n()\r\n    const data = reactive({\r\n      t: t,\r\n      address: computed(() => store.state.accounts[0]),\r\n      web3: computed(() => store.state.provider),\r\n      balance: 0,\r\n      isDialogPrompt: {\r\n        show: false\r\n      },\r\n      isDialogBox: {\r\n        show: false\r\n      },\r\n      isDialogTop: {\r\n        show: false,\r\n        num: '0'\r\n      },\r\n      boxid: '',\r\n      timerInterval: null,\r\n      myBoxHandle: (callback) => {\r\n        myBox({\r\n          address: data.address\r\n        })\r\n          .then((res) => {\r\n            if (res.data.id) {\r\n              data.boxid = res.data.id\r\n              data.isDialogBox.show = true\r\n              window.clearInterval(data.timerInterval);\r\n            }\r\n          })\r\n          .catch(error => {\r\n            console.log(error)\r\n            if (typeof callback === 'function') {\r\n              callback()\r\n            }\r\n          })\r\n      },\r\n      interval: () => {\r\n        window.clearInterval(data.timerInterval);\r\n        data.timerInterval = setInterval(() => {\r\n          data.myBoxHandle()\r\n        }, 3000)\r\n      },\r\n      receiveNftHandle: () => {\r\n        const Toast0 = Toast.loading({\r\n          duration: 0,\r\n        });\r\n        luck({\r\n          boxid: data.boxid,\r\n          address: data.address\r\n        })\r\n          .then((res) => {\r\n            if (res.data.award) {\r\n              window.clearInterval(data.timerInterval);\r\n              data.isDialogBox.show = false\r\n              let award = res.data.award\r\n              if (award.indexOf('NFT') !== -1) {\r\n                data.isDialogPrompt.show = true\r\n              } else if (award.indexOf('TOP') !== -1) {\r\n                let arr = award.split('TOP')\r\n                data.isDialogTop.num = arr[0]\r\n                data.isDialogTop.show = true\r\n              }\r\n            }\r\n            console.log(res, 'receiveNftHandle')\r\n            Toast0.clear()\r\n          })\r\n      }\r\n    })\r\n    onBeforeUnmount(() => {\r\n      window.clearInterval(data.timerInterval);\r\n    })\r\n    console.log(route.name, 'route.name')\r\n    watch(() => props.isRefresh,\r\n      () => {\r\n        data.myBoxHandle(function () {\r\n          if (route.name === 'Nft') {\r\n            Toast(t('index.無待領取盲盒')) // 我的勋章页显示弹窗\r\n          }\r\n          data.interval()\r\n        })\r\n      })\r\n    const refData = toRefs(data);\r\n    return {\r\n      ...refData\r\n    };\r\n  }\r\n}\r\n</script>\r\n<style lang=\"less\">\r\nbody {\r\n  .nft-img {\r\n    margin-top: 19px;\r\n    width: 196px;\r\n    height: 127px;\r\n    display: block;\r\n    margin: 0 auto;\r\n    position: relative;\r\n  }\r\n\r\n  .nft-box {\r\n    margin-top: 10px;\r\n    width: 128px;\r\n    height: 120px;\r\n    display: block;\r\n    margin: 0 auto;\r\n    position: relative;\r\n  }\r\n  .top-box {\r\n    position: absolute;\r\n    top: 27px;\r\n    left: 50%;\r\n    transform: translateX(-50%);\r\n    width: 50px;\r\n    height: 50px;\r\n    font-size: 15px;\r\n    font-weight: 600;\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: center;\r\n    .label {\r\n      font-size: 12px;\r\n      font-weight: initial;\r\n    }\r\n  }\r\n}\r\n</style>\r\n<style lang=\"less\" scoped>\r\n</style>\r\n","<template>\r\n  <div class=\"my-dialog\" v-if=\"isShow\">\r\n    <div class=\"shade\" @click=\"closeHandle\"></div>\r\n    <div class=\"dialog-wrap\">\r\n      <div class=\"section\">\r\n        <div class=\"dialog anim-scale\">\r\n          <slot name=\"header\">\r\n            <div class=\"header\">\r\n              <!-- <img class=\"dialog-close\" @click=\"$emit('update:isShow',false)\" src=\"@/assets/images/close@2x.png\" alt=\"\"> -->\r\n              <div v-if=\"title\" class=\"dialog-title\">{{title}}</div>\r\n            </div>\r\n          </slot>\r\n          <div class=\"content\">\r\n            <slot name=\"content\">\r\n              <div v-if=\"content\">{{content}}</div>\r\n            </slot>\r\n          </div>\r\n          <div class=\"footer\">\r\n            <slot name=\"footer\">\r\n\r\n            </slot>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { reactive, toRefs, watch } from \"vue\";\r\nimport { useI18n } from \"vue-i18n\";\r\nexport default {\r\n  props: {\r\n    isShow: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    title: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    content: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    isShade: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n  },\r\n  components: {\r\n  },\r\n  setup (props, { emit }) {\r\n    const { t } = useI18n()\r\n    const data = reactive({\r\n      $t: t,\r\n      closeHandle: () => {\r\n        if (props.isShade) {\r\n          emit('update:isShow', false)\r\n        }\r\n      }\r\n    })\r\n    watch(\r\n      () => props.isShow,\r\n      (newVal) => {\r\n        if (newVal) {\r\n          document.querySelector('body').style.overflow = 'hidden'\r\n        } else {\r\n          document.querySelector('body').removeAttribute('style')\r\n        }\r\n      }\r\n    )\r\n    const refData = toRefs(data);\r\n    return {\r\n      ...refData\r\n    };\r\n  }\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.my-dialog {\r\n  position: relative;\r\n  z-index: 2000;\r\n  .shade {\r\n    background-color: rgba(0, 0, 0, 0.5);\r\n    pointer-events: auto;\r\n    position: fixed;\r\n    left: 0;\r\n    top: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n  .dialog-wrap {\r\n    display: table;\r\n    font-family: Helvetica, arial, sans-serif;\r\n    pointer-events: none;\r\n    position: fixed;\r\n    left: 0;\r\n    top: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    .section {\r\n      display: table-cell;\r\n      vertical-align: middle;\r\n      text-align: center;\r\n    }\r\n    .dialog {\r\n      line-height: 1.3;\r\n      -webkit-box-sizing: border-box;\r\n      box-sizing: border-box;\r\n      background: url(~@/assets/images/dialog-bg2.webp) no-repeat;\r\n      background-size: 100% 100%;\r\n      width: 82% !important;\r\n      border-radius: 0.5 rem;\r\n      border: none;\r\n      color: #fff;\r\n      max-width: 640px;\r\n      position: relative;\r\n      display: inline-block;\r\n      text-align: left;\r\n      font-size: 14px;\r\n      border-radius: 5px;\r\n      pointer-events: auto;\r\n      -webkit-overflow-scrolling: touch;\r\n      -webkit-animation-fill-mode: both;\r\n      animation-fill-mode: both;\r\n      -webkit-animation-duration: 0.2s;\r\n      animation-duration: 0.2s;\r\n      min-height: 368px;\r\n      .header {\r\n        position: relative;\r\n        .dialog-close {\r\n          right: 7px;\r\n          top: 7px;\r\n          position: absolute;\r\n          box-sizing: content-box;\r\n          width: 12px;\r\n          height: 12px;\r\n          padding: 8px;\r\n        }\r\n      }\r\n      .dialog-title {\r\n        color: #5bffff;\r\n        text-align: center;\r\n        padding-top: 93px;\r\n        font-size: 15px;\r\n        font-weight: 600;\r\n        text-shadow: 0px 1px 0px rgba(73, 0, 146, 0.35);\r\n      }\r\n      .content {\r\n        padding: 30px 33px 0;\r\n        text-align: center;\r\n        font-size: 15px;\r\n        color: #fff;\r\n        min-height: 195px;\r\n        word-break: break-all;\r\n      }\r\n    }\r\n  }\r\n  @-webkit-keyframes anim-scale {\r\n    0% {\r\n      opacity: 0;\r\n      -webkit-transform: scale(0.5);\r\n      transform: scale(0.5);\r\n    }\r\n\r\n    100% {\r\n      opacity: 1;\r\n      -webkit-transform: scale(1);\r\n      transform: scale(1);\r\n    }\r\n  }\r\n\r\n  @keyframes anim-scale {\r\n    0% {\r\n      opacity: 0;\r\n      -webkit-transform: scale(0.5);\r\n      transform: scale(0.5);\r\n    }\r\n\r\n    100% {\r\n      opacity: 1;\r\n      -webkit-transform: scale(1);\r\n      transform: scale(1);\r\n    }\r\n  }\r\n\r\n  .anim-scale {\r\n    animation-name: anim-scale;\r\n    -webkit-animation-name: anim-scale;\r\n  }\r\n}\r\n</style>\r\n<style lang=\"less\">\r\n.my-dialog {\r\n  .dialog-li {\r\n    display: flex;\r\n    padding-bottom: 21px;\r\n    justify-content: space-between;\r\n    flex-wrap: wrap;\r\n    align-items: center;\r\n    &:last-child {\r\n      // padding-bottom: 0;\r\n    }\r\n    .input-wrap {\r\n      padding: 0 10px;\r\n      display: flex;\r\n      align-items: center;\r\n      width: 165px;\r\n      .input-label {\r\n        font-size: 15px;\r\n        font-weight: 600;\r\n        color: #fff;\r\n      }\r\n      input {\r\n        height: 37px;\r\n        padding: 0 10px;\r\n        border: 0;\r\n        font-size: 15px;\r\n        width: 100%;\r\n      }\r\n    }\r\n    .input-info {\r\n      width: 100%;\r\n      text-align: right;\r\n      margin-top: 15px;\r\n    }\r\n    .select-wrap {\r\n      select {\r\n        border: 0;\r\n        font-size: 15px;\r\n        color: #fff;\r\n        text-align: right;\r\n        &:focus-visible {\r\n          outline: 0;\r\n        }\r\n      }\r\n    }\r\n    .key {\r\n      font-size: 15px;\r\n      color: #00edf8;\r\n    }\r\n    .value {\r\n      font-size: 15px;\r\n      color: #fff;\r\n      word-break: break-all;\r\n      text-align: left;\r\n      font-weight: 600;\r\n    }\r\n  }\r\n  .dialog-des {\r\n    font-size: 13px;\r\n    text-align: left;\r\n  }\r\n  .status {\r\n    font-size: 16px;\r\n    color: #00edf8;\r\n    padding-top: 4px;\r\n  }\r\n  .info {\r\n    font-size: 16px;\r\n    color: #00edf8;\r\n    padding-top: 4px;\r\n  }\r\n  .dialog-btn {\r\n    margin-top: 0;\r\n    padding: 0px 33px 24px;\r\n    .van-button {\r\n      width: 50%;\r\n      max-width: 131px;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./MyDialog2.vue?vue&type=template&id=2c36c583&scoped=true\"\nimport script from \"./MyDialog2.vue?vue&type=script&lang=js\"\nexport * from \"./MyDialog2.vue?vue&type=script&lang=js\"\n\nimport \"./MyDialog2.vue?vue&type=style&index=0&id=2c36c583&lang=less&scoped=true\"\nimport \"./MyDialog2.vue?vue&type=style&index=1&id=2c36c583&lang=less\"\n\nimport exportComponent from \"D:\\\\contract\\\\frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2c36c583\"]])\n\nexport default __exports__","import { render } from \"./Nft.vue?vue&type=template&id=06c76534\"\nimport script from \"./Nft.vue?vue&type=script&lang=js\"\nexport * from \"./Nft.vue?vue&type=script&lang=js\"\n\nimport \"./Nft.vue?vue&type=style&index=0&id=06c76534&lang=less\"\n\nimport exportComponent from \"D:\\\\contract\\\\frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./index.vue?vue&type=style&index=2&id=10a7634f&lang=less&scoped=true\""],"sourceRoot":""}